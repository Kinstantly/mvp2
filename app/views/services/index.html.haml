- @page_title = "#{company_name} - Services"
.index
	%h1 Services
	#top_bar
		%nav.buttons
			= admin_link
			= link_to 'Categories', categories_path
			= link_to 'Specialties', specialties_path
			= link_to "Create a new service", new_service_path
	.list{align: 'center'}
		= form_tag find_by_name_services_path, method: :get do
			= submit_tag t('views.find_button'), disable_with: 'Finding...'
			= autocomplete_form_field 'name', '', autocomplete_service_name_profiles_path, placeholder: t('views.service.view.find_by_name'), size: 50
		= paginate @services
		%table
			%thead
				%tr
					%th= t 'views.service.name'
					%th.large= Service.human_attribute_name(:specialties)
					%th= Service.human_attribute_name(:is_predefined)
					%th.large= Service.human_attribute_name(:categories)
			%tbody
				- @services.each do |service|
					%tr
						%td= link_to service.name, edit_service_path(service)
						%td
							- service.specialties.each do |record|
								= link_to record.name, edit_specialty_path(record), class: 'name'
						%td{class: "#{service.is_predefined ? 'predefined' : 'not_predefined'}"}= service.is_predefined
						%td
							- service.categories.each do |record|
								= link_to record.name, edit_category_path(record), class: 'name'
		= paginate @services
