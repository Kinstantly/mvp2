- @page_title = "#{company_name} - Specialties"
.index
	%h1 Specialties
	#top_bar
		%nav.buttons
			= admin_link
			= link_to 'Categories', categories_path
			= link_to 'Services', services_path
			= link_to "Create a new specialty", new_specialty_path
	.list{align: 'center'}
		= form_tag find_by_name_specialties_path, method: :get do
			= submit_tag t('views.find_button'), disable_with: 'Finding...'
			= autocomplete_form_field 'name', '', autocomplete_specialty_name_profiles_path, placeholder: t('views.specialty.view.find_by_name'), size: 50
		= paginate @specialties
		%table
			%thead
				%tr
					%th= t 'views.specialty.name'
					%th= Specialty.human_attribute_name(:is_predefined)
					%th.large= Specialty.human_attribute_name(:services)
			%tbody
				- @specialties.each do |specialty|
					%tr
						%td= link_to specialty.name, edit_specialty_path(specialty)
						%td{class: "#{specialty.is_predefined ? 'predefined' : 'not_predefined'}"}= specialty.is_predefined
						%td
							- specialty.services.each do |record|
								= link_to record.name, edit_service_path(record), class: 'name'
		= paginate @specialties
