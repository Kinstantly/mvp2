- @page_title = profile_page_title profile
.profile_areas
	- if can? :manage, Profile
		.editor_info
			.profile_id
				= t 'views.profile.view.id', id: profile.id
			.publish_state
				= profile.is_published ? t('views.profile.view.profile_is_published') : t('views.profile.view.profile_is_not_published')
			.user_state
				= profile.claimed? ? t('views.profile.view.profile_is_claimed_by', owner: profile.user.email) : t('views.profile.view.profile_is_not_claimed')
			.invitation_state
				= profile_invitation_info profile
		.admin_info
			- if profile.admin_notes.present?
				.admin_notes
					%span.label= "#{Profile.human_attribute_name(:admin_notes)}:"
					%br
					.value.text_area= preserve_profile_text profile.admin_notes
			- if profile.lead_generator.present?
				.lead_generator
					= "#{Profile.human_attribute_name(:lead_generator)}:"
					= profile.lead_generator
	.rating_info
		-# If these partials are called from a users view, we need an explicit reference to profiles.
		- if profile.ratings.size > 0
			= render partial: 'profiles/rating_score', locals: {profile: profile}
		- if can? :rate, profile
			= render partial: 'profiles/rate', locals: {profile: profile}
		- elsif !user_signed_in?
			= link_to 'Sign in', member_sign_in_return_path
			or
			= link_to 'sign up', member_sign_up_return_path
			= "to rate and review #{profile.display_name_or_company}"
	.basic_profile
		.display_name
			= "#{Profile.human_attribute_name(:display_name)}:"
			= profile_display_name profile
		.email
			= "#{Profile.human_attribute_name(:email)}:"
			= profile_linked_email profile
		.company_name
			= "#{Profile.human_attribute_name(:company_name)}:"
			= profile.company_name
		.url
			= "#{Profile.human_attribute_name(:url)}:"
			= profile_linked_website profile
		.headline
			%span.label= "#{t 'views.profile.view.headline'}:"
			%br
			.value= profile.headline
	.photo
		.photo_source_url
			= "#{Profile.human_attribute_name(:photo_source_url)}:"
			= profile_linked_photo_source profile
			= image_tag profile.photo_source_url.strip, height: '168', border: '1' if profile.photo_source_url.present?
	.location_contact_profile
		- profile.locations.each do |location|
			.address
				= "#{Location.human_attribute_name(:address1)}:"
				= location.display_address
			.phone
				= "#{Location.human_attribute_name(:phone)}:"
				= location.display_phone
			.search_area_tag
				= "#{Location.human_attribute_name(:search_area_tag_id)}:"
				= location.search_area_tag.try(:name)
	.expertise_profile
		.categories
			%span.label= "#{Profile.human_attribute_name(:categories)}:"
			= profile_display_categories profile
		.services
			%span.label= "#{Profile.human_attribute_name(:services)}:"
			= profile_display_services profile
		.specialties
			%span.label= "#{Profile.human_attribute_name(:specialties)}:"
			= profile_display_specialties profile
		.specialties_description
			%span.label= "#{Profile.human_attribute_name(:specialties_description)}:"
			= profile.specialties_description
		.stages_ages
			%span.label= "#{Profile.human_attribute_name(:stages_ages)}:"
			= profile.display_stages_ages
	.professional_profile
		.accepting_new_clients
			%span.label
				= profile_display_accepting_new_clients profile
		.consultations
			%span.label= "#{t 'views.profile.view.consultation_modes'}:"
			= profile_display_consultation_modes profile
		.consult_remotely_or_at_home
			%span.label= profile_display_consult_remotely_or_at_home profile
		.year_started
			%span.label= "#{Profile.human_attribute_name(:year_started)}:"
			= profile.year_started
		.education
			%span.label= "#{Profile.human_attribute_name(:education)}:"
			%br
			.value.text_area= preserve_profile_text profile.education
		.certifications
			%span.label= "#{Profile.human_attribute_name(:certifications)}:"
			%br
			.value.text_area= preserve_profile_text profile.certifications
		.languages
			%span.label= "#{Profile.human_attribute_name(:languages)}:"
			%br
			.value.text_area= preserve_profile_text profile.languages
		.insurance_accepted
			%span.label= "#{Profile.human_attribute_name(:insurance_accepted)}:"
			%br
			.value.text_area= preserve_profile_text profile.insurance_accepted
		.summary
			%span.label= "#{Profile.human_attribute_name(:summary)}:"
			%br
			.value.text_area= preserve_profile_text profile.summary
		.pricing
			%span.label= "#{Profile.human_attribute_name(:pricing)}:"
			%br
			.value.text_area= preserve_profile_text profile.pricing
		.hours
			%span.label= "#{Profile.human_attribute_name(:hours)}:"
			%br
			.value.text_area= preserve_profile_text profile.hours
		.service_area
			%span.label= "#{Profile.human_attribute_name(:service_area)}:"
			%br
			.value.text_area= preserve_profile_text profile.service_area
